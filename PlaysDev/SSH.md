### Основные функции SSH:
Протокол SSH (Secure Shell) работает на **седьмом уровне модели OSI**, который называется **уровень приложений** (Application Layer).

1. **Безопасный доступ**: Позволяет пользователям подключаться к удаленным серверам и выполнять команды.
2. **Шифрование**: Все данные, передаваемые по SSH, шифруются, что защищает их от перехвата.
3. **Аутентификация**: Поддерживает различные методы аутентификации, включая пароли и ключи SSH.
4. **Туннелирование**: Позволяет создавать защищенные каналы для передачи данных.
5. **Интеграция с другими протоколами**: SSH может использоваться для создания защищенных туннелей для других протоколов, таких как HTTP или FTP.
### Безопасность SSH

1. **Изменение порта**: Изменение порта по умолчанию (22) на другой может помочь уменьшить количество автоматических атак.
2. **Отключение аутентификации по паролю**: Использование только SSH-ключей для аутентификации.
3. **Настройка брандмауэра**: Ограничение доступа к SSH только с определенных IP-адресов.
4. **Использование Fail2Ban**: Защита от брутфорс-атак.
5. **Fail2Ban** — это инструмент для повышения безопасности серверов, который помогает защитить их от атак методом подбора паролей (brute-force attacks) и других видов несанкционированного доступа. Он работает, анализируя журналы (логи) системы и блокируя IP-адреса, с которых поступают подозрительные запросы.
6. Основные функции Fail2Ban: Мониторинг логов, блокировка IPшников
#### Копирование файлов с помощью SCP

SCP (Secure Copy Protocol) позволяет безопасно копировать файлы между локальной и удаленной системами:
```
scp localfile username@hostname:/path/to/remote/directory
```

Для добавления публичного ключа на удаленный сервер используйте команду:
```
ssh-copy-id username@hostname
```

Это добавит ваш публичный ключ в файл `~/.ssh/authorized_keys` на удаленном сервере.
#### Смена пользователя с помощью `sudo`

Команда `sudo` (superuser do) позволяет выполнять команды от имени другого пользователя, если у вас есть соответствующие права:

bash

`sudo -i -u username`

- `-i` запускает оболочку от имени указанного пользователя.
- `-u` позволяет указать, от имени какого пользователя выполнять команду.

##### Настройка `sudo`

Права на использование `sudo` настраиваются в файле `/etc/sudoers`. Для редактирования этого файла рекомендуется использовать команду `visudo`, чтобы избежать ошибок синтаксиса.

Файл конфигурации SSH-сервера обычно находится по пути [[/etc/ssh/sshd_config]]. Вот некоторые важные параметры:
**Port**: 
Изменение порта по умолчанию (22) на другой может помочь уменьшить количество автоматических атак. Например, можно установить порт 2222 в файле конфигурации:
```
Port 2222
```
    
#### Настройка брандмауэра

Ограничение доступа к SSH только с определенных IP-адресов может значительно повысить безопасность. Например, с помощью `ufw` (Uncomplicated Firewall) можно разрешить доступ только с определенного IP:

```
sudo ufw allow from your_ip_address to any port 22
```

#### Использование Fail2Ban

Fail2Ban — это инструмент, который помогает защитить сервер от брутфорс-атак. Он отслеживает логи и блокирует IP-адреса, с которых происходят подозрительные попытки входа.
_____________________________________________________________
### Смена пользователя
#### 1. Использование команды `su`
`su - username`
#### 2. Использование команды `sudo`
Команда `sudo` (superuser do) позволяет выполнять команды от имени другого пользователя, если у вас есть соответствующие права. Например, чтобы выполнить команду от имени пользователя `username`, используйте:
```
sudo -u username command
```
### Права пользователя

В Linux права доступа к файлам и директориям определяются с помощью трех категорий:

1. **Владелец (Owner)**: Пользователь, который создал файл или директорию.
2. **Группа (Group)**: Группа пользователей, к которой принадлежит файл.
3. **Другие (Others)**: Все остальные пользователи.

Каждая категория имеет три типа прав:

- **Чтение (r)**: Право на чтение файла или списка содержимого директории.
- **Запись (w)**: Право на изменение файла или добавление/удаление файлов в директории.
- **Исполнение (x)**: Право на выполнение файла как программы или переход в директорию.
- d - значит что права на директорию

#### Проверка прав доступа

Чтобы проверить права доступа к файлу или директории, используйте команду `ls -l`:
```
ls -l filename
```

### Передача прав

#### 1. Изменение владельца файла

Чтобы изменить владельца файла или директории, используйте команду `chown`:

```
sudo chown new_owner:new_group filename
```

- `new_owner` — новый владелец.
- `new_group` — новая группа (можно указать только владельца, если группа не меняется).

Пример:

```
sudo chown alice:developers myfile.txt
```

#### 2. Изменение прав доступа

Чтобы изменить права доступа к файлу или директории, используйте команду `chmod`:

Права можно задавать в числовом (октальном) или символьном формате.

**Пример числового формата**:

- `7` — чтение, запись и выполнение (rwx).
- `6` — чтение и запись (rw-).
- `5` — чтение и выполнение (r-x).
- `4` — только чтение (r--).

Пример:

```
chmod 755 myscript.sh
```

**Пример символьного формата**:

- `u` — владелец (user).
- `g` — группа (group).
- `o` — другие (others).
- `a` — все (all).

Пример:

bash

```
chmod u+x myscript.sh  # Добавить право на выполнение для владельца
```

### Смена пользователя root
#### Настройка прав для пользователя

Чтобы предоставить пользователю права на выполнение команд с использованием `sudo`, добавьте его в группу `sudo`

```
sudo usermod -aG sudo username
```
`-a` — добавляет пользователя в группу, не удаляя его из других групп.
`-G sudo` — указывает, что вы добавляете пользователя в группу `sudo`.

После этого пользователь сможет использовать `sudo` для выполнения команд от имени root.

### Основные характеристики Kerberos:

1. **Безопасность**: Kerberos использует симметричное шифрование для защиты данных и аутентификации. Это означает, что для аутентификации используется один и тот же ключ как для клиента, так и для сервера.
    
2. **Тикеты**: Kerberos использует концепцию "тикетов" (tickets) для аутентификации. Когда пользователь хочет получить доступ к сервису, он сначала получает тикет от сервера аутентификации (Authentication Server, AS). Этот тикет затем используется для получения другого тикета для доступа к конкретному сервису (Ticket Granting Service, TGS).
    
3. **Централизованная аутентификация**: Kerberos требует наличия централизованного сервера аутентификации, который управляет учетными записями пользователей и выдает тикеты. Это упрощает управление безопасностью и аутентификацией в больших сетях.
    
4. **Протоколы**: Kerberos работает на основе различных протоколов, включая TCP и UDP, и может использоваться в различных сетевых средах.